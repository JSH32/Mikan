#pragma once

namespace Mikan {
    struct OpCode {
        // Instruction string representation
        const char *name;

        // Argument count for disassembly
        const int args;

        // Amount of total cycles
        const int cycles;

        // Anount of cycles if condition
        const int condCycles;
    };

    /**
     * @brief Normal opcodes, running normal instructions
     */
    static const OpCode OP_TABLE[256] = {
        {"NOP", 1, 2, 2}, {"LD BC,u16", 3, 6, 6}, {"LD (BC),A", 1, 4, 4}, {"INC BC", 1, 4, 4}, {"INC B", 1, 2, 2}, {"DEC B", 1, 2, 2}, {"LD B,u8", 2, 4, 4}, {"RLCA", 1, 2, 2}, {"LD (u16),SP", 3, 10, 10}, {"ADD HL,BC", 1, 4, 4}, {"LD A,(BC)", 1, 4, 4}, {"DEC BC", 1, 4, 4}, {"INC C", 1, 2, 2}, {"DEC C", 1, 2, 2}, {"LD C,u8", 2, 4, 4}, {"RRCA", 1, 2, 2}, {"STOP", 2, 2, 2}, {"LD DE,u16", 3, 6, 6}, {"LD (DE),A", 1, 4, 4}, {"INC DE", 1, 4, 4}, {"INC D", 1, 2, 2}, {"DEC D", 1, 2, 2}, {"LD D,u8", 2, 4, 4}, {"RLA", 1, 2, 2}, {"JR i8", 2, 6, 6}, {"ADD HL,DE", 1, 4, 4}, {"LD A,(DE)", 1, 4, 4}, {"DEC DE", 1, 4, 4}, {"INC E", 1, 2, 2}, {"DEC E", 1, 2, 2}, {"LD E,u8", 2, 4, 4}, {"RRA", 1, 2, 2}, {"JR NZ,i8", 2, 4, 6}, {"LD HL,u16", 3, 6, 6}, {"LD (HL+),A", 1, 4, 4}, {"INC HL", 1, 4, 4}, {"INC H", 1, 2, 2}, {"DEC H", 1, 2, 2}, {"LD H,u8", 2, 4, 4}, {"DAA", 1, 2, 2}, {"JR Z,i8", 2, 4, 6}, {"ADD HL,HL", 1, 4, 4}, {"LD A,(HL+)", 1, 4, 4}, {"DEC HL", 1, 4, 4}, {"INC L", 1, 2, 2}, {"DEC L", 1, 2, 2}, {"LD L,u8", 2, 4, 4}, {"CPL", 1, 2, 2}, {"JR NC,i8", 2, 4, 6}, {"LD SP,u16", 3, 6, 6}, {"LD (HL-),A", 1, 4, 4}, {"INC SP", 1, 4, 4}, {"INC (HL)", 1, 6, 6}, {"DEC (HL)", 1, 6, 6}, {"LD (HL),u8", 2, 6, 6}, {"SCF", 1, 2, 2}, {"JR C,i8", 2, 4, 6}, {"ADD HL,SP", 1, 4, 4}, {"LD A,(HL-)", 1, 4, 4}, {"DEC SP", 1, 4, 4}, {"INC A", 1, 2, 2}, {"DEC A", 1, 2, 2}, {"LD A,u8", 2, 4, 4}, {"CCF", 1, 2, 2}, {"LD B,B", 1, 2, 2}, {"LD B,C", 1, 2, 2}, {"LD B,D", 1, 2, 2}, {"LD B,E", 1, 2, 2}, {"LD B,H", 1, 2, 2}, {"LD B,L", 1, 2, 2}, {"LD B,(HL)", 1, 4, 4}, {"LD B,A", 1, 2, 2}, {"LD C,B", 1, 2, 2}, {"LD C,C", 1, 2, 2}, {"LD C,D", 1, 2, 2}, {"LD C,E", 1, 2, 2}, {"LD C,H", 1, 2, 2}, {"LD C,L", 1, 2, 2}, {"LD C,(HL)", 1, 4, 4}, {"LD C,A", 1, 2, 2}, {"LD D,B", 1, 2, 2}, {"LD D,C", 1, 2, 2}, {"LD D,D", 1, 2, 2}, {"LD D,E", 1, 2, 2}, {"LD D,H", 1, 2, 2}, {"LD D,L", 1, 2, 2}, {"LD D,(HL)", 1, 4, 4}, {"LD D,A", 1, 2, 2}, {"LD E,B", 1, 2, 2}, {"LD E,C", 1, 2, 2}, {"LD E,D", 1, 2, 2}, {"LD E,E", 1, 2, 2}, {"LD E,H", 1, 2, 2}, {"LD E,L", 1, 2, 2}, {"LD E,(HL)", 1, 4, 4}, {"LD E,A", 1, 2, 2}, {"LD H,B", 1, 2, 2}, {"LD H,C", 1, 2, 2}, {"LD H,D", 1, 2, 2}, {"LD H,E", 1, 2, 2}, {"LD H,H", 1, 2, 2}, {"LD H,L", 1, 2, 2}, {"LD H,(HL)", 1, 4, 4}, {"LD H,A", 1, 2, 2}, {"LD L,B", 1, 2, 2}, {"LD L,C", 1, 2, 2}, {"LD L,D", 1, 2, 2}, {"LD L,E", 1, 2, 2}, {"LD L,H", 1, 2, 2}, {"LD L,L", 1, 2, 2}, {"LD L,(HL)", 1, 4, 4}, {"LD L,A", 1, 2, 2}, {"LD (HL),B", 1, 4, 4}, {"LD (HL),C", 1, 4, 4}, {"LD (HL),D", 1, 4, 4}, {"LD (HL),E", 1, 4, 4}, {"LD (HL),H", 1, 4, 4}, {"LD (HL),L", 1, 4, 4}, {"HALT", 1, 2, 2}, {"LD (HL),A", 1, 4, 4}, {"LD A,B", 1, 2, 2}, {"LD A,C", 1, 2, 2}, {"LD A,D", 1, 2, 2}, {"LD A,E", 1, 2, 2}, {"LD A,H", 1, 2, 2}, {"LD A,L", 1, 2, 2}, {"LD A,(HL)", 1, 4, 4}, {"LD A,A", 1, 2, 2}, {"ADD A,B", 1, 2, 2}, {"ADD A,C", 1, 2, 2}, {"ADD A,D", 1, 2, 2}, {"ADD A,E", 1, 2, 2}, {"ADD A,H", 1, 2, 2}, {"ADD A,L", 1, 2, 2}, {"ADD A,(HL)", 1, 4, 4}, {"ADD A,A", 1, 2, 2}, {"ADC A,B", 1, 2, 2}, {"ADC A,C", 1, 2, 2}, {"ADC A,D", 1, 2, 2}, {"ADC A,E", 1, 2, 2}, {"ADC A,H", 1, 2, 2}, {"ADC A,L", 1, 2, 2}, {"ADC A,(HL)", 1, 4, 4}, {"ADC A,A", 1, 2, 2}, {"SUB A,B", 1, 2, 2}, {"SUB A,C", 1, 2, 2}, {"SUB A,D", 1, 2, 2}, {"SUB A,E", 1, 2, 2}, {"SUB A,H", 1, 2, 2}, {"SUB A,L", 1, 2, 2}, {"SUB A,(HL)", 1, 4, 4}, {"SUB A,A", 1, 2, 2}, {"SBC A,B", 1, 2, 2}, {"SBC A,C", 1, 2, 2}, {"SBC A,D", 1, 2, 2}, {"SBC A,E", 1, 2, 2}, {"SBC A,H", 1, 2, 2}, {"SBC A,L", 1, 2, 2}, {"SBC A,(HL)", 1, 4, 4}, {"SBC A,A", 1, 2, 2}, {"AND A,B", 1, 2, 2}, {"AND A,C", 1, 2, 2}, {"AND A,D", 1, 2, 2}, {"AND A,E", 1, 2, 2}, {"AND A,H", 1, 2, 2}, {"AND A,L", 1, 2, 2}, {"AND A,(HL)", 1, 4, 4}, {"AND A,A", 1, 2, 2}, {"XOR A,B", 1, 2, 2}, {"XOR A,C", 1, 2, 2}, {"XOR A,D", 1, 2, 2}, {"XOR A,E", 1, 2, 2}, {"XOR A,H", 1, 2, 2}, {"XOR A,L", 1, 2, 2}, {"XOR A,(HL)", 1, 4, 4}, {"XOR A,A", 1, 2, 2}, {"OR A,B", 1, 2, 2}, {"OR A,C", 1, 2, 2}, {"OR A,D", 1, 2, 2}, {"OR A,E", 1, 2, 2}, {"OR A,H", 1, 2, 2}, {"OR A,L", 1, 2, 2}, {"OR A,(HL)", 1, 4, 4}, {"OR A,A", 1, 2, 2}, {"CP A,B", 1, 2, 2}, {"CP A,C", 1, 2, 2}, {"CP A,D", 1, 2, 2}, {"CP A,E", 1, 2, 2}, {"CP A,H", 1, 2, 2}, {"CP A,L", 1, 2, 2}, {"CP A,(HL)", 1, 4, 4}, {"CP A,A", 1, 2, 2}, {"RET NZ", 1, 4, 10}, {"POP BC", 1, 6, 6}, {"JP NZ,u16", 3, 6, 8}, {"JP u16", 3, 8, 8}, {"CALL NZ,u16", 3, 6, 12}, {"PUSH BC", 1, 8, 8}, {"ADD A,u8", 2, 4, 4}, {"RST 00h", 1, 8, 8}, {"RET Z", 1, 4, 10}, {"RET", 1, 8, 8}, {"JP Z,u16", 3, 6, 8}, {"PREFIX CB", 1, 2, 2}, {"CALL Z,u16", 3, 6, 12}, {"CALL u16", 3, 12, 12}, {"ADC A,u8", 2, 4, 4}, {"RST 08h", 1, 8, 8}, {"RET NC", 1, 4, 10}, {"POP DE", 1, 6, 6}, {"JP NC,u16", 3, 6, 8}, {"UNUSED", 1, 0, 0}, {"CALL NC,u16", 3, 6, 12}, {"PUSH DE", 1, 8, 8}, {"SUB A,u8", 2, 4, 4}, {"RST 10h", 1, 8, 8}, {"RET C", 1, 4, 10}, {"RETI", 1, 8, 8}, {"JP C,u16", 3, 6, 8}, {"UNUSED", 1, 0, 0}, {"CALL C,u16", 3, 6, 12}, {"UNUSED", 1, 0, 0}, {"SBC A,u8", 2, 4, 4}, {"RST 18h", 1, 8, 8}, {"LD (FF00+u8),A", 2, 6, 6}, {"POP HL", 1, 6, 6}, {"LD (FF00+C),A", 1, 4, 4}, {"UNUSED", 1, 0, 0}, {"UNUSED", 1, 0, 0}, {"PUSH HL", 1, 8, 8}, {"AND A,u8", 2, 4, 4}, {"RST 20h", 1, 8, 8}, {"ADD SP,i8", 2, 8, 8}, {"JP HL", 1, 2, 2}, {"LD (u16),A", 3, 8, 8}, {"UNUSED", 1, 0, 0}, {"UNUSED", 1, 0, 0}, {"UNUSED", 1, 0, 0}, {"XOR A,u8", 2, 4, 4}, {"RST 28h", 1, 8, 8}, {"LD A,(FF00+u8)", 2, 6, 6}, {"POP AF", 1, 6, 6}, {"LD A,(FF00+C)", 1, 4, 4}, {"DI", 1, 2, 2}, {"UNUSED", 1, 0, 0}, {"PUSH AF", 1, 8, 8}, {"OR A,u8", 2, 4, 4}, {"RST 30h", 1, 8, 8}, {"LD HL,SP+i8", 2, 6, 6}, {"LD SP,HL", 1, 4, 4}, {"LD A,(u16)", 3, 8, 8}, {"EI", 1, 2, 2}, {"UNUSED", 1, 0, 0}, {"UNUSED", 1, 0, 0}, {"CP A,u8", 2, 4, 4}, {"RST 38h", 1, 8, 8}};

    /**
     * @brief CB instructions, prefixed by 0xCB
     */
    static const OpCode CB_TABLE[256] = {
        {"RLC B", 2, 4, 4}, {"RLC C", 2, 4, 4}, {"RLC D", 2, 4, 4}, {"RLC E", 2, 4, 4}, {"RLC H", 2, 4, 4}, {"RLC L", 2, 4, 4}, {"RLC (HL)", 2, 8, 8}, {"RLC A", 2, 4, 4}, {"RRC B", 2, 4, 4}, {"RRC C", 2, 4, 4}, {"RRC D", 2, 4, 4}, {"RRC E", 2, 4, 4}, {"RRC H", 2, 4, 4}, {"RRC L", 2, 4, 4}, {"RRC (HL)", 2, 8, 8}, {"RRC A", 2, 4, 4}, {"RL B", 2, 4, 4}, {"RL C", 2, 4, 4}, {"RL D", 2, 4, 4}, {"RL E", 2, 4, 4}, {"RL H", 2, 4, 4}, {"RL L", 2, 4, 4}, {"RL (HL)", 2, 8, 8}, {"RL A", 2, 4, 4}, {"RR B", 2, 4, 4}, {"RR C", 2, 4, 4}, {"RR D", 2, 4, 4}, {"RR E", 2, 4, 4}, {"RR H", 2, 4, 4}, {"RR L", 2, 4, 4}, {"RR (HL)", 2, 8, 8}, {"RR A", 2, 4, 4}, {"SLA B", 2, 4, 4}, {"SLA C", 2, 4, 4}, {"SLA D", 2, 4, 4}, {"SLA E", 2, 4, 4}, {"SLA H", 2, 4, 4}, {"SLA L", 2, 4, 4}, {"SLA (HL)", 2, 8, 8}, {"SLA A", 2, 4, 4}, {"SRA B", 2, 4, 4}, {"SRA C", 2, 4, 4}, {"SRA D", 2, 4, 4}, {"SRA E", 2, 4, 4}, {"SRA H", 2, 4, 4}, {"SRA L", 2, 4, 4}, {"SRA (HL)", 2, 8, 8}, {"SRA A", 2, 4, 4}, {"SWAP B", 2, 4, 4}, {"SWAP C", 2, 4, 4}, {"SWAP D", 2, 4, 4}, {"SWAP E", 2, 4, 4}, {"SWAP H", 2, 4, 4}, {"SWAP L", 2, 4, 4}, {"SWAP (HL)", 2, 8, 8}, {"SWAP A", 2, 4, 4}, {"SRL B", 2, 4, 4}, {"SRL C", 2, 4, 4}, {"SRL D", 2, 4, 4}, {"SRL E", 2, 4, 4}, {"SRL H", 2, 4, 4}, {"SRL L", 2, 4, 4}, {"SRL (HL)", 2, 8, 8}, {"SRL A", 2, 4, 4}, {"BIT 0,B", 2, 4, 4}, {"BIT 0,C", 2, 4, 4}, {"BIT 0,D", 2, 4, 4}, {"BIT 0,E", 2, 4, 4}, {"BIT 0,H", 2, 4, 4}, {"BIT 0,L", 2, 4, 4}, {"BIT 0,(HL)", 2, 6, 6}, {"BIT 0,A", 2, 4, 4}, {"BIT 1,B", 2, 4, 4}, {"BIT 1,C", 2, 4, 4}, {"BIT 1,D", 2, 4, 4}, {"BIT 1,E", 2, 4, 4}, {"BIT 1,H", 2, 4, 4}, {"BIT 1,L", 2, 4, 4}, {"BIT 1,(HL)", 2, 6, 6}, {"BIT 1,A", 2, 4, 4}, {"BIT 2,B", 2, 4, 4}, {"BIT 2,C", 2, 4, 4}, {"BIT 2,D", 2, 4, 4}, {"BIT 2,E", 2, 4, 4}, {"BIT 2,H", 2, 4, 4}, {"BIT 2,L", 2, 4, 4}, {"BIT 2,(HL)", 2, 6, 6}, {"BIT 2,A", 2, 4, 4}, {"BIT 3,B", 2, 4, 4}, {"BIT 3,C", 2, 4, 4}, {"BIT 3,D", 2, 4, 4}, {"BIT 3,E", 2, 4, 4}, {"BIT 3,H", 2, 4, 4}, {"BIT 3,L", 2, 4, 4}, {"BIT 3,(HL)", 2, 6, 6}, {"BIT 3,A", 2, 4, 4}, {"BIT 4,B", 2, 4, 4}, {"BIT 4,C", 2, 4, 4}, {"BIT 4,D", 2, 4, 4}, {"BIT 4,E", 2, 4, 4}, {"BIT 4,H", 2, 4, 4}, {"BIT 4,L", 2, 4, 4}, {"BIT 4,(HL)", 2, 6, 6}, {"BIT 4,A", 2, 4, 4}, {"BIT 5,B", 2, 4, 4}, {"BIT 5,C", 2, 4, 4}, {"BIT 5,D", 2, 4, 4}, {"BIT 5,E", 2, 4, 4}, {"BIT 5,H", 2, 4, 4}, {"BIT 5,L", 2, 4, 4}, {"BIT 5,(HL)", 2, 6, 6}, {"BIT 5,A", 2, 4, 4}, {"BIT 6,B", 2, 4, 4}, {"BIT 6,C", 2, 4, 4}, {"BIT 6,D", 2, 4, 4}, {"BIT 6,E", 2, 4, 4}, {"BIT 6,H", 2, 4, 4}, {"BIT 6,L", 2, 4, 4}, {"BIT 6,(HL)", 2, 6, 6}, {"BIT 6,A", 2, 4, 4}, {"BIT 7,B", 2, 4, 4}, {"BIT 7,C", 2, 4, 4}, {"BIT 7,D", 2, 4, 4}, {"BIT 7,E", 2, 4, 4}, {"BIT 7,H", 2, 4, 4}, {"BIT 7,L", 2, 4, 4}, {"BIT 7,(HL)", 2, 6, 6}, {"BIT 7,A", 2, 4, 4}, {"RES 0,B", 2, 4, 4}, {"RES 0,C", 2, 4, 4}, {"RES 0,D", 2, 4, 4}, {"RES 0,E", 2, 4, 4}, {"RES 0,H", 2, 4, 4}, {"RES 0,L", 2, 4, 4}, {"RES 0,(HL)", 2, 8, 8}, {"RES 0,A", 2, 4, 4}, {"RES 1,B", 2, 4, 4}, {"RES 1,C", 2, 4, 4}, {"RES 1,D", 2, 4, 4}, {"RES 1,E", 2, 4, 4}, {"RES 1,H", 2, 4, 4}, {"RES 1,L", 2, 4, 4}, {"RES 1,(HL)", 2, 8, 8}, {"RES 1,A", 2, 4, 4}, {"RES 2,B", 2, 4, 4}, {"RES 2,C", 2, 4, 4}, {"RES 2,D", 2, 4, 4}, {"RES 2,E", 2, 4, 4}, {"RES 2,H", 2, 4, 4}, {"RES 2,L", 2, 4, 4}, {"RES 2,(HL)", 2, 8, 8}, {"RES 2,A", 2, 4, 4}, {"RES 3,B", 2, 4, 4}, {"RES 3,C", 2, 4, 4}, {"RES 3,D", 2, 4, 4}, {"RES 3,E", 2, 4, 4}, {"RES 3,H", 2, 4, 4}, {"RES 3,L", 2, 4, 4}, {"RES 3,(HL)", 2, 8, 8}, {"RES 3,A", 2, 4, 4}, {"RES 4,B", 2, 4, 4}, {"RES 4,C", 2, 4, 4}, {"RES 4,D", 2, 4, 4}, {"RES 4,E", 2, 4, 4}, {"RES 4,H", 2, 4, 4}, {"RES 4,L", 2, 4, 4}, {"RES 4,(HL)", 2, 8, 8}, {"RES 4,A", 2, 4, 4}, {"RES 5,B", 2, 4, 4}, {"RES 5,C", 2, 4, 4}, {"RES 5,D", 2, 4, 4}, {"RES 5,E", 2, 4, 4}, {"RES 5,H", 2, 4, 4}, {"RES 5,L", 2, 4, 4}, {"RES 5,(HL)", 2, 8, 8}, {"RES 5,A", 2, 4, 4}, {"RES 6,B", 2, 4, 4}, {"RES 6,C", 2, 4, 4}, {"RES 6,D", 2, 4, 4}, {"RES 6,E", 2, 4, 4}, {"RES 6,H", 2, 4, 4}, {"RES 6,L", 2, 4, 4}, {"RES 6,(HL)", 2, 8, 8}, {"RES 6,A", 2, 4, 4}, {"RES 7,B", 2, 4, 4}, {"RES 7,C", 2, 4, 4}, {"RES 7,D", 2, 4, 4}, {"RES 7,E", 2, 4, 4}, {"RES 7,H", 2, 4, 4}, {"RES 7,L", 2, 4, 4}, {"RES 7,(HL)", 2, 8, 8}, {"RES 7,A", 2, 4, 4}, {"SET 0,B", 2, 4, 4}, {"SET 0,C", 2, 4, 4}, {"SET 0,D", 2, 4, 4}, {"SET 0,E", 2, 4, 4}, {"SET 0,H", 2, 4, 4}, {"SET 0,L", 2, 4, 4}, {"SET 0,(HL)", 2, 8, 8}, {"SET 0,A", 2, 4, 4}, {"SET 1,B", 2, 4, 4}, {"SET 1,C", 2, 4, 4}, {"SET 1,D", 2, 4, 4}, {"SET 1,E", 2, 4, 4}, {"SET 1,H", 2, 4, 4}, {"SET 1,L", 2, 4, 4}, {"SET 1,(HL)", 2, 8, 8}, {"SET 1,A", 2, 4, 4}, {"SET 2,B", 2, 4, 4}, {"SET 2,C", 2, 4, 4}, {"SET 2,D", 2, 4, 4}, {"SET 2,E", 2, 4, 4}, {"SET 2,H", 2, 4, 4}, {"SET 2,L", 2, 4, 4}, {"SET 2,(HL)", 2, 8, 8}, {"SET 2,A", 2, 4, 4}, {"SET 3,B", 2, 4, 4}, {"SET 3,C", 2, 4, 4}, {"SET 3,D", 2, 4, 4}, {"SET 3,E", 2, 4, 4}, {"SET 3,H", 2, 4, 4}, {"SET 3,L", 2, 4, 4}, {"SET 3,(HL)", 2, 8, 8}, {"SET 3,A", 2, 4, 4}, {"SET 4,B", 2, 4, 4}, {"SET 4,C", 2, 4, 4}, {"SET 4,D", 2, 4, 4}, {"SET 4,E", 2, 4, 4}, {"SET 4,H", 2, 4, 4}, {"SET 4,L", 2, 4, 4}, {"SET 4,(HL)", 2, 8, 8}, {"SET 4,A", 2, 4, 4}, {"SET 5,B", 2, 4, 4}, {"SET 5,C", 2, 4, 4}, {"SET 5,D", 2, 4, 4}, {"SET 5,E", 2, 4, 4}, {"SET 5,H", 2, 4, 4}, {"SET 5,L", 2, 4, 4}, {"SET 5,(HL)", 2, 8, 8}, {"SET 5,A", 2, 4, 4}, {"SET 6,B", 2, 4, 4}, {"SET 6,C", 2, 4, 4}, {"SET 6,D", 2, 4, 4}, {"SET 6,E", 2, 4, 4}, {"SET 6,H", 2, 4, 4}, {"SET 6,L", 2, 4, 4}, {"SET 6,(HL)", 2, 8, 8}, {"SET 6,A", 2, 4, 4}, {"SET 7,B", 2, 4, 4}, {"SET 7,C", 2, 4, 4}, {"SET 7,D", 2, 4, 4}, {"SET 7,E", 2, 4, 4}, {"SET 7,H", 2, 4, 4}, {"SET 7,L", 2, 4, 4}, {"SET 7,(HL)", 2, 8, 8}, {"SET 7,A", 2, 4, 4}};
}